<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>
        
        前后端分离调试开发 |
        
        GRAVE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <link rel="icon" href="/favicon.png">
    
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">GRAVE</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Living Life Over</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
      </nav>
      <nav id="sub-nav">
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <!--<div id="search-form-wrap">-->
        <!--<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://yoursite.com"></form>-->
      <!--</div>-->
    </div>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/-net/">.net</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ecma-262/">ecma-262</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kendoui/">kendoui</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/veronica/">veronica</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/开发-团队/">开发 & 团队</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>

  
</aside>
      
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-frontend-backend-divided-dev" class="article article-type-post" itemscope
         itemprop="blogPost">

    <div class="dropdown toc-trigger">
        <a data-toggle="dropdown" href="#">目录</a>
        <div class="dropdown-menu pull-right" role="menu" aria-labelledby="dLabel">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#使用_Node-js_服务器调试前端界面"><span class="toc-number">1.</span> <span class="toc-text">使用 Node.js 服务器调试前端界面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用_postman_测试后台服务"><span class="toc-number">2.</span> <span class="toc-text">使用 postman 测试后台服务</span></a></li></ol>
        </div>
    </div>

    <div class="article-inner">
        

        
        <header class="article-header">
            
  
    <h1 class="article-title" itemprop="name">
      前后端分离调试开发
    </h1>
  

        </header>
        

        <div class="article-meta">
            <a href="/2014/02/19/frontend-backend-divided-dev/" class="article-date">
  <time datetime="2014-02-19T08:47:15.000Z" itemprop="datePublished">Feb 19 2014</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发-团队/">开发 & 团队</a>
  </div>

        </div>

        <hr/>

        <div class="article-entry" itemprop="articleBody">
            
            <h2 id="使用_Node-js_服务器调试前端界面">使用 Node.js 服务器调试前端界面</h2>
<p>在前后端分离的开发模式中，前端人员可用nodejs搭建 轻量级的服务器端完成以下任务：</p>
<ul>
<li>调通前台界面</li>
<li>完善后台接口需求</li>
<li>界面完备性验证</li>
</ul>
<p>使用 restify 库构建 REST 服务，创建 JavaScript 文件，例如 app.js</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> restify = require(<span class="string">'restify'</span>);</div><div class="line"></div><div class="line"><span class="comment">// 创建服务器</span></div><div class="line"><span class="keyword">var</span> server = restify.createServer();</div><div class="line">server.<span class="keyword">use</span>(restify.queryParser());</div><div class="line">server.<span class="keyword">use</span>(restify.bodyParser());</div><div class="line"></div><div class="line"><span class="comment">// todo: 写一些 rest 接口 </span></div><div class="line"></div><div class="line"><span class="comment">// 静态文件代理</span></div><div class="line">server.<span class="keyword">get</span>(/\/?.*/, restify.serveStatic({</div><div class="line">    directory: <span class="string">'./frontend'</span>,</div><div class="line">    <span class="string">'default'</span>: <span class="string">'index.html'</span></div><div class="line">}));</div><div class="line">server.<span class="keyword">get</span>(/\/<span class="keyword">public</span>\/?.*/, restify.serveStatic({</div><div class="line">    directory: <span class="string">'./public'</span></div><div class="line">}));</div><div class="line"></div><div class="line"><span class="comment">// 启动服务</span></div><div class="line">server.listen(<span class="number">8080</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">    console.log(<span class="string">'%s listening at %s'</span>, server.name, server.url);</div><div class="line">});</div></pre></td></tr></table></figure>

<p>写好该文件后，运行：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="title">node</span> app</div></pre></td></tr></table></figure>

<p>这样就可通过访问端口 8080，访问当前网站。代码中，端口号、文件路径等可根据具体情况进行更改。</p>
<ul>
<li>添加新的路由处理</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">server.<span class="keyword">get</span>(<span class="string">'/Base/Person/List'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res, next)</span></span>{</div><div class="line">    res.send({</div><div class="line">        success: <span class="literal">true</span>,</div><div class="line">        total: <span class="number">1</span>,</div><div class="line">        data: [{</div><div class="line">            id: <span class="number">1</span>, name: <span class="string">'foobar'</span></div><div class="line">        }]</div><div class="line">    });</div><div class="line">});</div></pre></td></tr></table></figure>

<p>如果是 post 方法，则为 server.post，其他方法以此类推。</p>
<ul>
<li>访问参数</li>
</ul>
<p>通过 <code>req.params</code> 可访问前端发送的路由参数、查询字符串和表单数据等参数。</p>
<ul>
<li>回传数据</li>
</ul>
<p>通过 <code>res.send</code> 可回传JSON数据到前端。</p>
<p><strong>作用</strong></p>
<p>通过构建后台测试服务，可在后台真实服务未建立的情况下，通过模拟回传的不同数据，达到调试好前端界面的目的。例如，可模拟一些后台错误反馈数据，达到考察界面在异常条件下是否能正常处理的完备性测试。</p>
<p>在后台服务构建好之后，由于使用的是同样的路由（不同的服务器），因此可无缝从测试环境切换到生产环境，并且不用更改前端的 URL 配置。</p>
<p>前端界面根据测试服务构建好后，即可根据测试数据整理出对后台完备的前端接口需求，是前后端协作更加方便，避免重复更改。</p>
<h2 id="使用_postman_测试后台服务">使用 postman 测试后台服务</h2>
<p>PostMan 是一个 Chrome 插件，能够轻松的构建不同的请求参数，请求服务器，达到测试后台服务接口的目的</p>
<p>在前后端分离开发的模式中，在前端界面未搭建好之前，可使用该插件模拟真实界面数据请求，查看返回的数据是否符合预期</p>
<p>下载地址：<a href="https://chrome.google.com/webstore/detail/postman-rest-client/fdmmgilgnpjigdojojpjoooidkmcomcm?utm_source=chrome-ntp-icon" target="_blank" rel="external">https://chrome.google.com/webstore/detail/postman-rest-client/fdmmgilgnpjigdojojpjoooidkmcomcm?utm_source=chrome-ntp-icon</a></p>
<p>补充：<a href="https://chrome.google.com/webstore/detail/postman-rest-client-packa/fhbjgbiflinjbdggehcddcbncdddomop?utm_source=chrome-ntp-icon" target="_blank" rel="external">https://chrome.google.com/webstore/detail/postman-rest-client-packa/fhbjgbiflinjbdggehcddcbncdddomop?utm_source=chrome-ntp-icon</a></p>

            
        </div>

    </div>

    
    
<nav id="article-nav">
  
    <a href="/2014/02/25/redmine-forum-team/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          使用 redmine 讨论区进行团队协作
        
      </div>
    </a>
  
  
    <a href="/2013/12/25/kendoui-databind-source/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">KendoUI 中的数据源数据绑定</div>
    </a>
  
</nav>

    

</article>
</section>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 gochant<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    
    
  </div>
  <script src="/js/jquery-1.11.1.min.js" type="text/javascript"></script>

  <script src="/js/dropdown.js" type="text/javascript"></script>

</body>
</html>